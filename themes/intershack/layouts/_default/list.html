{{ define "main" }}
<div class="container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto">
    <!-- Breadcrumbs - Only shown for child pages, not gallery index -->
    {{ $parent := .Parent }}
    {{ if and $parent (ne $parent.Type "home") (ne $parent.Type "") (eq $parent.Title "Gallery") }}
    <nav class="mb-8" aria-label="breadcrumb">
      <ol class="flex items-center gap-4">
        <li><a href="{{ $parent.RelPermalink }}" class="text-base text-intershack-blue hover:underline">{{ $parent.Title }}</a></li>
        <li class="text-gray-400">/</li>
        <li class="text-base text-gray-800">{{ .Title }}</li>
      </ol>
    </nav>
    {{ end }}

    <!-- Page Header -->
    <header class="mb-8">
      <h1 class="text-4xl font-bold text-intershack-blue mb-4">{{ .Title }}</h1>
      {{ with .Description }}
        <p class="text-xl text-gray-600">{{ . }}</p>
      {{ end }}
    </header>

    <!-- Content -->
    <article class="prose prose-lg max-w-none">
      {{ .Content }}
    </article>

    <!-- Child Pages - Hidden for Gallery and Membership -->
    {{ if and .Pages (ne .Title "Gallery") (ne .Title "Membership") }}
      <div class="mt-12">
        {{ range .Pages }}
          <div class="mb-8 pb-8 border-b border-gray-200">
            <h2 class="text-2xl font-bold text-intershack-blue mb-2"><a href="{{ .RelPermalink }}" class="hover:text-intershack-orange transition-colors">{{ .LinkTitle }}</a></h2>
            <div class="text-gray-700">{{ .Summary }}</div>
          </div>
        {{ end }}
      </div>
    {{ end }}
  </div>
</div>
{{ end }}
